<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Phresh</title>
  <meta name="comp1800 boilerplate code" content="my bcit project" />
  <meta name="author" content="BCIT" />

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
  <link href="styles/template.css" rel="stylesheet" />
  <link href="styles/random-choice.css" rel="stylesheet" />

</head>

<body>
  <nav class="navbar bg-warning">
    <div class="container-fluid">
      <div id="logo">
        <img src="images/logo.png" alt="logo" />
      </div>
      <p class="text-center fs-1 ms-5 me-auto"><b>Phresh</b></p>
    </div>
  </nav>

  <div class="container-fluid mt-4">
    <a href="random1.html" type="button" class="btn btn-info">Back</a>
  </div>

  <div id="details-go-here">
  </div>


  <footer class="navbar justify-content-evenly bg-warning fixed-bottom">
    <div class="container py-3">
      <a class="btn fas fa-home fa-2x px-auto" href="main.html"></a>
      <a class="btn fas fa-dice fa-2x px-auto" href="random1.html"></a>
      <a class="btn fas fa-list fa-2x px-auto" href="dailyList-menu.html"></a>
      <a class="btn fas fa-users fa-2x px-auto" href="group-use-preferences.html"></a>
      <a class="btn fas fa-cogs fa-2x px-auto" href="settings.html"></a>
    </div>
  </footer>

  <!----------------------------------------------->
  <!-- JS: Boostrap, Firebase, API related    -->
  <!----------------------------------------------->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>

  <script src="https://kit.fontawesome.com/26da0e4274.js" crossorigin="anonymous"></script>

  <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js"></script>

  <script src="scripts/firebase_api_phresh.js"></script>

  <!-- JS files: Your own JavaScript functions included here    -->
  <script>
        function getDirections() {
      const parsedUrl = new URL(window.location.href);
      console.log(parsedUrl.searchParams.get("id"));

      // extract id from url, assign to variable
      var id = parsedUrl.searchParams.get("id");
      console.log(id);

      // use this ID to read from firestore
      db.collection("restaurants-list")
        .doc(id)   // ID that we extracted
        .get()
        .then(function (doc) {   // display details!
          var heading = doc.data().title;       //key "name"
          var bio = doc.data().description;     //key "description"
          var direction = doc.data().location;
          var googleAPIkey = "AIzaSyCrvQOtoZY8NHztTLD60XfklA_IwjZ9vEo"
          var codestring =
            '<div id="directions">'
            + '<div class="container-fluid">'
            + '<div class="card container-fluid">'
            + direction
            + '</div>'
            + '</div>'
            + '<div id="caption" class="mt-3">'
            + '<h5>' + heading + '</h5>'
            + '<p>' + bio + '</p>'
            + '</div>'
            + '</div>'
            + '</div>';
          $("#details-go-here").append(codestring);
          console.log("location is " + location);

        })
    }
    getDirections();
  </script>


</body>

</html>